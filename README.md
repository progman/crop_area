# Crop area

Calculate how to crop a source image for best scale to a target image.


### Step 1 — Get target geometry for target aspect ratio from command line

For example: target geometry is 2560x1440 (16:9).


### Step 2 — Get source geometry from command line and calculate crop area

Legend:
- █ = kept (crop area)
- ░ = discarded


```
Source geometry 1500x561
┌─────────────────────────┐           ┌─────────────────────────┐
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│ calculate │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│ crop area │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│ ========> │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │█████████████████████████│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░░░░░░░░░░░░░░░░░░░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░░░░░░░░░░░░░░░░░░░░░░│
└─────────────────────────┘           └─────────────────────────┘
$ crop_area 1500x561 2560x1440
997x561


Source geometry 3637x2433
┌─────────────────────────────────┐           ┌─────────────────────────────────┐
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│ calculate │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│ crop area │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│ ========> │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░█████████████████████████░░░░│
│░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│           │░░░░█████████████████████████░░░░│
└─────────────────────────────────┘           └─────────────────────────────────┘
$ crop_area 3637x2433 2560x1440
3637x2046
```

Crop area has aspect ratio like target geometry.


### Step 3 — Crop and scale

You can crop source image via crop area and scale to target geometry.
